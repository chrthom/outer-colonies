<div id="register-box">
    <oc-content-box title="Registrierung">
        <form id="register-form"
                *ngIf="!registrationSuccessful"
                [formGroup]="registerForm"
                (ngSubmit)="registerForm.valid ? submit() : {}">
            <mat-form-field>
                <mat-label>Nutzername</mat-label>
                <input matInput
                    formControlName="username"
                    [errorStateMatcher]="matcher">
                <mat-error *ngIf="username.hasError('exists') && !username.hasError('required')">
                    Der gew&auml;hlte Nutzername ist bereits vergeben
                </mat-error>
                <mat-error *ngIf="username.hasError('maxlength')">
                    Dein Nutzername kann nicht l&auml;nger als 20 Zeichen sein
                </mat-error>
                <mat-error *ngIf="username.hasError('minlength') && !username.hasError('required')">
                    Dein Nutzername muss mindestens 3 Zeichen lang sein
                </mat-error>
                <mat-error *ngIf="username.hasError('required')">
                    Bitte w&auml;hle einen Nutzernamen
                </mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Passwort</mat-label>
                <input matInput type="password"
                    formControlName="password"
                    [errorStateMatcher]="matcher">
                <mat-error *ngIf="password.hasError('maxlength')">
                    Dein Passwort kann nicht lÃ¤nger als 40 Zeichen sein
                </mat-error>
                <mat-error *ngIf="password.hasError('minlength') && !password.hasError('required')">
                    Dein Passwort sollte mindestens 8 Zeichen lang sein
                </mat-error>
                <mat-error *ngIf="password.hasError('required')">
                    Bitte w&auml;hle ein Passwort
                </mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>E-Mail</mat-label>
                <input matInput
                    formControlName="email"
                    [errorStateMatcher]="matcher">
                <mat-error *ngIf="email.hasError('exists') && !email.hasError('required')">
                    Diese E-Mail Adresse wird bereits von einem anderen Nutzer verwendet
                </mat-error>
                <mat-error *ngIf="email.hasError('maxlength') && !email.hasError('email')">
                    Die E-Mail Adresse darf maximal 60 Zeichen lang sein
                </mat-error>
                <mat-error *ngIf="email.hasError('email') && !email.hasError('required')">
                    Dies ist keine valide E-Mail Adresse
                </mat-error>
                <mat-error *ngIf="email.hasError('required')">
                    Bitte gib eine valide E-Mail Adresse an
                </mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Start Deck</mat-label>
                <mat-select formControlName="startDeck">
                    <mat-option value="0">Terranische Siedler</mat-option>
                    <mat-option value="1">Freih&auml;ndler-Clans</mat-option>
                    <mat-option value="2">Trans-Jupiter Expedition</mat-option>
                </mat-select>
                <mat-error *ngIf="startDeck.hasError('required')">
                    Bitte w&auml;hle ein Start Deck
                </mat-error>
            </mat-form-field>
            <button mat-raised-button 
                    type="submit"
                    [color]="registerForm.valid ? 'primary' : 'accent'">
                Neuen Nutzer registrieren
            </button>
            <mat-error *ngIf="registrationSuccessful == false">
                Ein unerwarteter Fehler ist bei der Registrierung aufgetreten. Bitte versuchen sie es sp&auml;ter erneut.
            </mat-error>
        </form>
        <p *ngIf="registrationSuccessful">Registrierung erfolgreich</p>
        <p id="back-link"><a routerLink="/login">&lt; Zur&uuml;ck</a></p>
    </oc-content-box>
</div>